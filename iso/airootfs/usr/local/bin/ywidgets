#!/usr/bin/env python3
import sys
from PyQt6.QtWidgets import QApplication, QWidget, QHBoxLayout, QPushButton
from PyQt6.QtCore import Qt

class MacButtons(QWidget):
    def __init__(self):
        super().__init__()
        self.init_ui()

    def init_ui(self):
        # Frameless, floating popup (Hyprland won't tile it)
        self.setWindowFlags(
            Qt.WindowType.FramelessWindowHint |
            Qt.WindowType.Popup |
            Qt.WindowType.WindowStaysOnTopHint
        )
        self.setAttribute(Qt.WidgetAttribute.WA_TranslucentBackground)

        layout = QHBoxLayout()
        layout.setSpacing(8)
        layout.setContentsMargins(4, 4, 4, 4)

        # macOS buttons
        for color in ["#ff5f57", "#ffbd2e", "#28c940"]:
            btn = QPushButton("")
            btn.setFixedSize(15, 15)
            btn.setStyleSheet(f"""
                QPushButton {{
                    background-color: {color};
                    border-radius: 7px;
                    border: 1px solid #00000022;
                }}
                QPushButton:hover {{
                    background-color: {color}cc;
                }}
            """)
            layout.addWidget(btn)

        self.setLayout(layout)
        self.adjustSize()
        screen = QApplication.primaryScreen().availableGeometry()
        # Top-left corner
        self.move(screen.width() - self.width() - 20, 60)
        self.show()

if __name__ == "__main__":
    app = QApplication(sys.argv)
    w = MacButtons()
    sys.exit(app.exec())
