#!/bin/bash

# __   __    _   _ _   _ ___  __
# \ \ / /__ | | | | \ | (_) \/ /
#  \ V / _ \| | | |  \| | |\  / 
#   | | (_) | |_| | |\  | |/  \ 
#   |_|\___/ \___/|_| \_|_/_/\_\
#
# Lisence GPL3
# Homepage: https://github.com/apapamarkou/younix
# Author: Andrianos Papamarkou
# Email: papamarkoua@gmail.com

# This script is used to view images in a directory using the feh image viewer.
# It takes a single argument, which is the starting index of the image to be displayed.
# If no argument is provided, it defaults to 0 (the first image in the directory).

SCRIPT_NAME=$(basename "$0")
INFO_FILE=$(mktemp)
echo "Enter: edit with \$EDITOR | 1: annotator | 2: PDF" > "$INFO_FILE"
flock -n $LOCK_DIR/$SCRIPT_NAME.lock \
    feh --info "echo '[ENTER] to edit [1] to annotate [2] to convert to pdf'" \
        --font "yudit/24" \
        --action "img-edit -e %F" \
        --action1 "img-edit -a %F" \
        --action2 "img-edit -s %F" \
        --image-bg black \
        --geometry 1900x1000 \
        --scale-down \
        --start-at $1

rm "$INFO_FILE"

